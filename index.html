<!DOCTYPE html>

<head>
    <title>La teva aventura</title>
    <style>
        body {
            max-width: 30em;
            margin: 0 auto;
			font-family: arial;
        }
        
        .text {
    background-color: coral;
    padding: 2em;
    margin-bottom: 2em;
    font-size: x-large;
    width: 320px;
    height: 200px;
    position: absolute;
    left: 229px;
    top: 127px;
        }
		.usuari {
    background-color: gray;
    padding: 1em;
    margin-bottom: 1em;
    font-size: large;
    width: 132px;
    height: 115px;
    position: absolute;
    left: 655px;
    top: 129px;
        }
		.cami {
    background-color: gray;
    padding: 1em;
    margin-bottom: 1em;
    font-size: x-large;
    width: 120px;
    height: 86px;
    position: absolute;
    left: 655px;
    top: 289px;
        }
    </style>
</head>

<body>
    <div style="position: absolute; top: 20px; left: 259px; width: 538px; height: 47px;">
        <h1>Esculleix la teva pr&ograve;pia aventura!</h1>
    </div>
	<header>
      <div id="numPag" style="text-align: right; position: absolute; left: 562px; top: 107px;">
                P&agrave;gina
            </div>
		<div style="position: absolute; left: 862px; top: 30px; width: 210px; height: 50px;">
			<form>
				<label><strong>LOGIN</strong></label><br/><br/>
  				<label for="nom">Nom:</label><br/>
 				<input type="text" id="nom" name="nom"/><br/>
  				<label for="cognom">Cognom:</label><br/>
  				<input type="text" id="cognom" name="cognom"/><br/>
				<label for="foto">Foto:</label><br/>
  				<input type="text" id="foto" name="foto"/>
			</form>
		</div>
</header>
		<div>
        <div class="text">
            Comencem
        </div>
		<div class="usuari"> 
			<div style="position: absolute; left: 10px; top: 10px; height: 64px;"><img src="jordi.png" style="width:80px;"/></div>
			<div id="nomIn" style="position: absolute; left: 10px; top: 98px; width: 148px;"></div>
			<div id="cognomIn" style="position: absolute; left: 10px; top: 121px; width: 148px;">Alonso</div>
		</div>
		<div class="cami"> Camí recorregut </div>
		</div>
    <script>
        let missatges = [
            { text: 'FUNCIONA?'}, 
            { text: 'NO HO TOQUIS!'}, 
            { text: 'HO HAS TOCAT?'}, 
            { text: "L'HAS CAGAT"}, 
            { text: 'CAP PROBLEMA'}, 
            { text: 'HO SAP ALGÚ?'}, 
            { text: "ENS DONARÀ PROBLEMES?"}, 
            { text: "AMAGA-HO"}, 
            { text: "BURRO!"}, 
            { text: "POTS DONAR LA CULPA A UN ALTRE?"}, 
            { text: "LLENÇA-HO"}
        ];
        let i = 0;
        let continuar = "";

        let pagina = 0;
        let text = document.querySelector('.text');
        text.textContent = missatges[pagina].text;
        let nPag = document.querySelector('#numPag');
        nPag.textContent = `Pàgina ${pagina}`;

        function ferSi() {
            //pagina = pagina + 1;
            nPag.textContent = `Pàgina ${pagina}`;
            text.textContent = missatges[pagina].text;
            return "s";
        }

        function ferNo() {
            //pagina = pagina - 1;
            nPag.textContent = `Pàgina ${pagina}`;
            text.textContent = missatges[pagina].text;
            return "n";
        }

        function si_no() {
            /*if (pagina === 0) {
                return prompt("Vols jugar? [s/n]");
            }
            return prompt("[s/n]");*/
            return "n";
        }

        function check_sn() {
            while (true) {
                let cont2 = si_no();
                if (cont2 !== "s" && cont2 !== "n")
                    alert("Respon amb s/n");
                else
                    return cont2;
            }
        }

        document.write(missatges[0].text); //Funciona

        while (true) {
            pagina = i;
            if (i !== 4) continuar = ferSi(); //check_sn(); //evitar repetir missatge si i === 4
            if (i === 0) { //funciona?
                if (continuar === "s") {
                    document.write(missatges[1].text); //No ho toquis
                    break;
                } else {
                    document.write(missatges[1].text); //No ho toquis
                    i = 1;
                }
            }
            if (i === 1) { //ho has tocat?
                let continuar = ferSi(); //check_sn();
                if (continuar === "s") {
                    document.write(missatges[8].text); //Burro!
                    i = 3;
                } else {
                    document.write(missatges[6].text); //Ens donarà problemes?
                    i = 2;
                }
            }
            if (i === 2) { //Ens donarà problemes?
                let continuar = ferSi(); //check_sn();
                if (continuar === "s") {
                    document.write(missatges[3].text); //L'has cagat
                    i = 4;
                } else {
                    document.write(missatges[10].text); //Llença-ho
                    break;
                }
            }
            if (i === 3) { //Ho sap algú?
                document.write(missatges[5].text); //Ho sap algú?
                let continuar = ferNo(); //check_sn();
                if (continuar === "s") {
                    document.write(missatges[3].text); //L'has cagat
                    i = 4;
                } else {
                    document.write(missatges[7].text); //Amaga-ho
                    break;
                }
            }
            if (i === 4) { //Pots culpar a algú?
                document.write(missatges[9].text); //Pots donar la culpa un altre?
                let continuar = ferSi(); //check_sn();
                if (continuar === "s")
                    break;
                else
                    document.write(missatges[3].text); //L'has cagat
            }
        }
        document.write(missatges[4].text); //Cap problema
    </script>
    <div id="butons" style="text-align: center; position: absolute; left: 228px; top: 432px; width: 416px; height: 38px;">
        <button onclick="ferSi();" style="padding: 10px 50px; position: absolute; left: 0px; top: 0px;">SI</button>
        <button onclick="ferNo();" style="padding: 10px 50px; position: absolute; left: 296px; top: 0px;">NO</button>
    </div>
</body>

</html>